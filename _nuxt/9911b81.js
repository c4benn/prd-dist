(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{329:function(e,t,r){var content=r(396);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("be500700",content,!0,{sourceMap:!1})},395:function(e,t,r){"use strict";r(329)},396:function(e,t,r){var n=r(30)(!1);n.push([e.i,".root[data-dfm]{--x-padding:1.15rem}.form[data-dfm]{margin:1rem 0 4rem;position:relative;padding:0 var(--x-padding) 2.5rem;display:grid}.title[data-dfm]{padding:0 var(--x-padding);margin:calc(1rem + var(--x-padding)) 0 calc(.5rem + var(--x-padding));font-size:1.25rem;font-weight:600;opacity:var(--t-title)}.forgot-password[data-dfm]{margin:-.75rem 0 1rem!important;padding:2px 8px!important}.submit[data-dfm]{height:48px;width:100%;margin:2rem 0}.alt-register[data-dfm]{text-align:center;font-size:1.1rem}.sign-up-action[data-dfm]{font-size:1.1rem!important}",""]),e.exports=n},528:function(e,t,r){"use strict";r.r(t);r(12),r(10),r(11),r(13),r(14);var n=r(5),o=r(2),l=r(3),main=(r(20),r(22),r(39),r(43),r(9),r(71),r(37),r(0));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"DeliveryForm",props:{nameValidator:{type:Function,required:!0},passwordValidator:{type:Function,required:!0},emailValidator:{type:Function,required:!0},payload:{type:Object,required:!0},title:{type:String,default:"Delivery info"},showAppendDialog:{type:Boolean,required:!0},selectDialogTemplate:{type:Object,required:!0},selectValue:{type:String,required:!0},disableTitleIntersection:Boolean,template:{type:String,required:!0}},data:function(){return{form:{name:"",phone:"",email:"",country:"Nigeria",state:"Lagos",city:"",address:"",save:!1,isCorrect:!1}}},computed:{fetchedStates:function(){return this.$store.state.bagPageFetchedStates},supabase:function(){return this.$store.getters.supabase},savedDelivery:function(){return this.$store.state.savedDeliveryInfo}},created:function(){/^main$/i.test(this.template)&&"object"==Object(l.a)(this.savedDelivery)&&null!==this.savedDelivery&&(this.form.name=this.savedDelivery.name,this.form.phone=this.savedDelivery.tel.replace(/\(.+\)/,"").replace(/-/g," "),this.form.email=this.savedDelivery.email,this.form.state=this.savedDelivery["address-level1"],this.form.city=this.savedDelivery["address-level2"],this.form.address=this.savedDelivery["street-address"],this.form.save=this.savedDelivery["save info"],this.$emit("select-vmodel",{label:"city",value:this.form.city}),this.$emit("select-vmodel",{label:"state",value:this.form.state}))},mounted:function(){var e=this;this.$nextTick((function(){requestAnimationFrame(Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.fetchedStates&&"Error fetching"!=e.fetchedStates){t.next=9;break}if(e.$nuxt.isOnline){t.next=3;break}return t.abrupt("return",e.updateFetchedStates("Error fetching"));case 3:return t.next=5,e.supabase.from("nigerianstates").select("*");case 5:r=t.sent,n=r.data,r.error?e.updateFetchedStates("Error fetching"):(o={},n.forEach((function(e){o[e.state]=JSON.parse(e.cities)})),e.updateFetchedStates(o));case 9:case"end":return t.stop()}}),t)}))))}))},methods:{updateFetchedStates:function(e){this.$store.commit("UPDATE_",{name:"bagPageFetchedStates",value:e})}},render:function(e){var t,r,n=this,l={"data-dfm":""},input=function(t){return e("ui-input",t)};return function(t,r){return e("div",t,r)}({attrs:c({},l),staticClass:"root"},[this.$slots.prepend,[(r={props:{disableIntersection:this.disableTitleIntersection,config:{target:this.$el}},scopedSlots:{default:function(t){return!n.disableTitleIntersection&&n.$emit("title-intersecting",t.isIntersecting),r={attrs:c({},l),staticClass:"title"},o=n.title,e("p",r,o);var r,o}}},e("ui-intersection",r)),function(t,r){return e("ui-form",t,r)}({props:{submitData:{attrs:c({},l),props:{background:"info",flat:!0},staticClass:"submit"}},attrs:c(c({},l),{},{action:"."}),staticClass:"form fill-before",on:{"submit-form":(t=Object(o.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.$nextTick((function(){return requestAnimationFrame((function(){return n.$emit("form-submitted",t)}))})),e.next=3,main.updateDeliveryInfo.call(n,{value:t});case 3:return e.next=5,main.sleep.call(n,1e3);case 5:null===(r=n.payload)||void 0===r||r.close();case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}},[input({props:{label:"Name",autocomplete:"name",id:"delivery-name",placeholder:"Egwu Sade",vmodel:this.form.name,validator:this.nameValidator,pattern:".+"},on:{vmodel:function(e){n.form.isCorrect=!1,n.form.name=e}}}),input({props:{label:"Phone",autocomplete:"tel",id:"delivery-phone",type:"tel",appendValue:"+234",placeholder:"801 2345 678",pattern:"^\\s*?\\d{3}\\s+\\d{1,3}(\\s+?\\d{1,4})?\\s*?$",vmodel:this.form.phone,validator:function(e){var t=e.trim();return t.length?/[a-zA-Z]+/g.test(e)?"Numbers only":t.length<4?"Min length is 4":!(t.length>12)||"Max length is 10":"Required"}},on:{vmodel:function(e){n.form.isCorrect=!1,n.form.phone=Object(main.formatTel)(e)}}}),input({props:{label:"Email",type:"email",autocomplete:"email",id:"delivery-email",placeholder:"example@domain",vmodel:this.form.email,pattern:"^\\s*?[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*\\s*?$",validator:this.emailValidator},on:{vmodel:function(e){n.form.isCorrect=!1,n.form.email=e}}}),["State","City"].map((function(e,t){return input({key:t,props:{appendValue:e.appendValue,readonly:"State"==e,autocomplete:"State"==e?"address-level1":"address-level2",label:e,id:"delivery-".concat(e).toLowerCase(),placeholder:n.$nuxt.isOnline?"Error fetching"==n.fetchedStates?"Error fetching":n.form.state||1!=t?"Choose ".concat(e):"Choose State":"Network error",type:"select",template:"select",vmodel:1==t?n.selectValue:n.form[e.toLowerCase()],pattern:".+",validator:function(e){return!!e.trim().length||"Required"},disabled:"Error fetching"==n.fetchedStates||!n.form.state&&1==t,loading:null===n.fetchedStates,selectToggled:n.showAppendDialog&&n.selectDialogTemplate.label==e},on:{vmodel:function(t){n.form[e.toLowerCase()]=Object(main.capitalize)(t),n.form.isCorrect=!1},"toggle-select":function(){n.$emit("toggle-select",e)}}})})),input({props:{label:"Address",id:"delivery-address",placeholder:"number, street name, closest bus stop",type:"address",vmodel:this.form.address,minlength:"10",autocomplete:"street-address",validator:function(e){var t=e.trim();return t.length?!(t.length<10)||"Min length is 10":"Required"}},on:{vmodel:function(e){n.form.isCorrect=!1,n.form.address=e}}}),input({props:{label:"Save info",id:"delivery-save-info",type:"switch",vmodel:this.form.save,required:!1,validator:function(){return!0},topSlot:!1,hint:this.form.save?"Your current delivery info will be saved on <em>this</em> browser.":"Your current delivery info will be cleared on your next visit."},on:{vmodel:function(e){n.form.save=e}}}),input({props:{label:"Information is correct",id:"delivery-info-correct",title:this.form.isCorrect?"information is correct":"information is incorrect",type:"switch",vmodel:this.form.isCorrect,validator:function(e){return!0===e||"Required"},required:!0},on:{vmodel:function(e){n.form.isCorrect=e}}})])]])}},f=(r(395),r(7)),component=Object(f.a)(m,undefined,undefined,!1,null,null,null);t.default=component.exports}}]);